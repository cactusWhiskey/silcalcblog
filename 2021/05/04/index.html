<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">

<meta name='robots' content='noindex, follow' />

	<!-- This site is optimized with the Yoast SEO plugin v16.2 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>May 4, 2021 - SilCalcBlog</title>
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="May 4, 2021 - SilCalcBlog" />
	<meta property="og:url" content="https://www.silcalcblog.com/2021/05/04/" />
	<meta property="og:site_name" content="SilCalcBlog" />
	<meta name="twitter:card" content="summary_large_image" />
	<script type="application/ld+json" class="yoast-schema-graph">{
	    "@context": "https://schema.org",
	    "@graph": [
	        {
	            "@type": [
	                "Person",
	                "Organization"
	            ],
	            "@id": "https://www.silcalcblog.com/#/schema/person/dc08a5e0006475eb3bbf4d3189fb41ce",
	            "name": "Ricardo Rivero",
	            "logo": {
	                "@id": "https://www.silcalcblog.com/#personlogo"
	            },
	            "sameAs": [
	                "http://localhost:3465"
	            ]
	        },
	        {
	            "@type": "WebSite",
	            "@id": "https://www.silcalcblog.com/#website",
	            "url": "https://www.silcalcblog.com/",
	            "name": "SilCalcBlog",
	            "description": "Practical and Theoretical Musings on Safety Integrity Level Calculations",
	            "publisher": {
	                "@id": "https://www.silcalcblog.com/#/schema/person/dc08a5e0006475eb3bbf4d3189fb41ce"
	            },
	            "potentialAction": [
	                {
	                    "@type": "SearchAction",
	                    "target": "https://www.silcalcblog.com/?s={search_term_string}",
	                    "query-input": "required name=search_term_string"
	                }
	            ],
	            "inLanguage": "en-US"
	        },
	        {
	            "@type": "CollectionPage",
	            "@id": "https://www.silcalcblog.com/2021/05/04/#webpage",
	            "url": "https://www.silcalcblog.com/2021/05/04/",
	            "name": "May 4, 2021 - SilCalcBlog",
	            "isPartOf": {
	                "@id": "https://www.silcalcblog.com/#website"
	            },
	            "breadcrumb": {
	                "@id": "https://www.silcalcblog.com/2021/05/04/#breadcrumb"
	            },
	            "inLanguage": "en-US",
	            "potentialAction": [
	                {
	                    "@type": "ReadAction",
	                    "target": [
	                        "https://www.silcalcblog.com/2021/05/04/"
	                    ]
	                }
	            ]
	        },
	        {
	            "@type": "BreadcrumbList",
	            "@id": "https://www.silcalcblog.com/2021/05/04/#breadcrumb",
	            "itemListElement": [
	                {
	                    "@type": "ListItem",
	                    "position": 1,
	                    "item": {
	                        "@type": "WebPage",
	                        "@id": "https://www.silcalcblog.com/",
	                        "url": "https://www.silcalcblog.com/",
	                        "name": "Home"
	                    }
	                },
	                {
	                    "@type": "ListItem",
	                    "position": 2,
	                    "item": {
	                        "@id": "https://www.silcalcblog.com/2021/05/04/#webpage"
	                    }
	                }
	            ]
	        }
	    ]
	}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='//localhost' />
<link rel='dns-prefetch' href='//www.googletagmanager.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="SilCalcBlog &raquo; Feed" href="https://www.silcalcblog.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="SilCalcBlog &raquo; Comments Feed" href="https://www.silcalcblog.com/comments/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='https://www.silcalcblog.com/wp-includes/css/dist/block-library/style.min.css?ver=5.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='penscratch-2-reset-css'  href='https://www.silcalcblog.com/wp-content/themes/penscratch-2-wpcom/css/reset.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='penscratch-2-style-css'  href='https://www.silcalcblog.com/wp-content/themes/penscratch-2-wpcom/style.css?ver=5.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='penscratch-2-fonts-css'  href='https://fonts.googleapis.com/css?family=Roboto+Slab%3A300%2C400%2C700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='penscratch-2-block-style-css'  href='https://www.silcalcblog.com/wp-content/themes/penscratch-2-wpcom/css/blocks.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='katex-css'  href='https://www.silcalcblog.com/wp-content/plugins/katex/assets/katex-0.13.0/katex.min.css?ver=5.7.1' type='text/css' media='all' />
<script type='text/javascript' src='https://www.silcalcblog.com/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
<script type='text/javascript' src='https://www.silcalcblog.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' src='https://www.googletagmanager.com/gtag/js?id=UA-192253365-1' id='google_gtagjs-js' async></script>
<script type='text/javascript' id='google_gtagjs-js-after'>
window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-192253365-1", {"anonymize_ip":true});
</script>
<link rel="https://api.w.org/" href="https://www.silcalcblog.com/wp-json/" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.silcalcblog.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 5.7.1" />
<meta name="generator" content="Site Kit by Google 1.31.0" />		<script>
			document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );
		</script>
				<style>
			.no-js img.lazyload { display: none; }
			figure.wp-block-image img.lazyloading { min-width: 150px; }
							.lazyload, .lazyloading { opacity: 0; }
				.lazyloaded {
					opacity: 1;
					transition: opacity 400ms;
					transition-delay: 0ms;
				}
					</style>
		<meta name="google-site-verification" content="gn9RsKsUPIOuqUTFouwEwGftyFf1280AmGUGhaQd7do" /></head>

<body class="archive date wp-embed-responsive group-blog no-sidebar">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
	<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
							<p class="site-title"><a href="https://www.silcalcblog.com/" rel="home">SilCalcBlog</a></p>
							<p class="site-description">Practical and Theoretical Musings on Safety Integrity Level Calculations</p>
					</div>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect x="0" fill="none" width="16" height="16"/><g><path id="menu-icon" d="M0 14h16v-2H0v2zM0 2v2h16V2H0zm0 7h16V7H0v2z"/></g></svg>
				Menu			</button>
			<div class="menu-main-nav-container"><ul id="menu-main-nav" class="menu"><li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15"><a href="/">Home</a></li>
<li id="menu-item-29" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-29"><a href="https://www.silcalcblog.com/about/">About</a></li>
<li id="menu-item-59" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-59"><a href="https://www.silcalcblog.com/contact/">Contact</a></li>
<li id="menu-item-581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-581"><a href="https://www.silcalcblog.com/spreadsheets/">Spreadsheets</a></li>
</ul></div>		</nav><!-- #site-navigation -->
	</header><!-- #masthead -->

	<div id="content" class="site-content">
		
	<section id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Day: <span>May 4, 2021</span></h1>			</header><!-- .page-header -->

			
				
					
<article id="post-708" class="post-708 post type-post status-publish format-standard has-post-thumbnail hentry category-theoretical">
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://www.silcalcblog.com/2021/05/04/pfd-equation-derivation/" rel="bookmark">PFD Equation Derivation</a></h1>	</header><!-- .entry-header -->
			<div class="entry-thumbnail">
			<a href="https://www.silcalcblog.com/2021/05/04/pfd-equation-derivation/"><img width="575" height="165"   alt="" data-srcset="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png 575w, https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39-300x86.png 300w"  data-src="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png" data-sizes="(max-width: 575px) 100vw, 575px" class="attachment-penscratch-2-featured size-penscratch-2-featured wp-post-image lazyload" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /><noscript><img width="575" height="165" src="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png" class="attachment-penscratch-2-featured size-penscratch-2-featured wp-post-image" alt="" srcset="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png 575w, https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39-300x86.png 300w" sizes="(max-width: 575px) 100vw, 575px" /></noscript></a>
		</div>
				<div class="entry-meta">
			<span class="posted-on"><a href="https://www.silcalcblog.com/2021/05/04/pfd-equation-derivation/" rel="bookmark"><time class="entry-date published" datetime="2021-05-04T22:49:39+00:00">May 4, 2021</time><time class="updated" datetime="2021-05-04T22:49:40+00:00">May 4, 2021</time></a></span><span class="byline"><span class="author vcard"><span class="sep"> ~ </span><a class="url fn n" href="https://www.silcalcblog.com/author/admin/">Ricardo Rivero</a></span></span>								</div><!-- .entry-meta -->
				<div class="entry-content">
		
<p>Time for a theoretical post; let&#8217;s derive the basic <a href="https://www.silcalcblog.com/2020/11/22/sil-calcs-101-intro/">PFD equation</a> we all know and love:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>PFD = 1-e^{-\lambda t}</pre></div>



<p>There are a few ways to go about this, but I think the easiest will be to set up a two state system. Consider a system which can either be working, or failed:</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img width="579" height="167"  alt=""  data-srcset="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-30-07.png 579w, https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-30-07-300x87.png 300w"  data-src="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-30-07.png" data-sizes="(max-width: 579px) 100vw, 579px" class="wp-image-722 lazyload" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /><noscript><img width="579" height="167" src="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-30-07.png" alt="" class="wp-image-722" srcset="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-30-07.png 579w, https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-30-07-300x87.png 300w" sizes="(max-width: 579px) 100vw, 579px" /></noscript></figure></div>



<p>Notice that we draw an arc from the working state (state one) to the failed state (state two). Let&#8217;s discuss this system a bit; we know that it&#8217;s working when we first put it in service (presumably we test it during commissioning). Therefore, we can confidently say that the probability of the system being in state one at time <em>t = 0</em> is one. We can also assert that the total probability of being in either state one or state two must be unity. Given this info, we can write:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>P_1(0) = 1 \newline
P_2(0) = 0  \newline
P_1(t) + P_2(t) = 1</pre></div>



<p>It will be useful later on to have things in vector form, so lets go ahead and write the probability at time zero in vector form:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>\vec{P}_0 =   \begin{bmatrix}1\\0 \end{bmatrix}</pre></div>



<p>To finish describing the system we need to establish the rate at which we move from state one to state two. For now let&#8217;s just call it <em>&#8220;a&#8221;</em>, and assume that it is constant (i.e. the rate at which we transition from working to failed is not a function of time). &#8220;a&#8221; has units of 1/time.</p>



<p>Our system now looks like so:</p>



<div class="wp-block-image"><figure class="aligncenter size-large"><img width="575" height="165"  alt=""  data-srcset="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png 575w, https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39-300x86.png 300w"  data-src="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png" data-sizes="(max-width: 575px) 100vw, 575px" class="wp-image-723 lazyload" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /><noscript><img width="575" height="165" src="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png" alt="" class="wp-image-723" srcset="https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39.png 575w, https://www.silcalcblog.com/wp-content/uploads/2021/05/Screenshot-from-2021-05-04-17-31-39-300x86.png 300w" sizes="(max-width: 575px) 100vw, 575px" /></noscript></figure></div>



<p>Notice that we are getting dangerously close to a differential equation here. We&#8217;ve established that the rate of change from state one to state two, per unit time, is <em>a. </em>If we let the time interval for <em>a </em> approach zero, we have the instantaneous rate at which transitions are made from state one to state two. When multiplied by the probability of being in state one, this gives the rate of change of the probability of being in state one. I.e. :</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>\frac{dP_1}{dt} = -aP_1</pre></div>



<p>Note that P<sub>1 </sub>is still a function of time, I have just omitted that for clarity (i.e its P<sub>1</sub>(t)).</p>



<p>Also note the negative sign on &#8220;a&#8221;, this is because &#8220;a&#8221; is the rate that we are are leaving state one.</p>



<p>We can just solve this equation and be done with the derivation. Solving this equation gives us an expression for P<sub>1</sub>, and since P<sub>1</sub>+P<sub>2</sub> = 1, we can then quickly solve for P<sub>2</sub>, which is what we want (P<sub>2</sub> is the probability, as a function of time, that the system is failed).</p>



<p>The solution is straightforward: notice that this is a first order differential equation, and so we expect the answer to involve an exponential. In words, the above differential equation says &#8220;give me a function whose derivative is &#8220;-a&#8221; times the original function&#8221;. We know this will just be an exponential with a factor of &#8220;-a&#8221; in it:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>P_1(t) = e^{-at}</pre></div>



<p>You can quickly check that this is correct by taking the derivative:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>\frac{dP_1}{dt} = \frac{d(e^{-at})}{dt}=-ae^{-at}=-aP_1</pre></div>



<p>P<sub>2</sub> is quickly computed:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>P_2(t) = 1-P_1(t) = 1-e^{-at}</pre></div>



<p>And of course, &#8220;a&#8221; is clearly just our failure rate lambda. </p>



<div style="height:45px" aria-hidden="true" class="wp-block-spacer"></div>



<h2>Additional Complications</h2>



<p>Before we end this post, lets at least generalize the ideas above a bit.</p>



<p>Notice that if we had more transitions either in or out of state one, then our differential equation would have more terms. In general, we can drop the transition rates into a matrix (coefficient matrix), and use the power of linear algebra to solve the resulting system of differential equations. We&#8217;ll cover more complicated systems another time, but for our simple system, with only one transition rate, the matrix looks like this:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>A =\begin{bmatrix} -a&amp;0\\a&amp;0 \end{bmatrix}</pre></div>



<p>Here the matrix position (1,1) represents the total rate at which we are transitioning out of state one. The position (2,1) represents the rate at which we transition to state two from state one. (1,2) represents the rate at which we transition to state one from state two, and (2,2) is the total rate we are transitioning out of state two. Notice that each column sums to zero.</p>



<p>Our system in vector form is then:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>\frac{d\vec{P}}{dt} = A\vec{P}</pre></div>



<p>This is just a system of differential equations, and the solution is an exponential. This time the exponential is raised to the power of a matrix:</p>



<div class="wp-block-katex-display-block katex-eq" data-katex-display="true"><pre>\vec{P}(t)=e^{At}\vec{P}(0)</pre></div>
			</div><!-- .entry-content -->
	</article><!-- #post-## -->

				
				
		
		</main><!-- #main -->
	</section><!-- #primary -->



	</div><!-- #content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
				<div class="site-info-wrapper clear">
						<div class="site-info">
				<a href="http://wordpress.org/">Proudly powered by WordPress</a>
				<span class="sep"> ~ </span>
				Theme: Penscratch 2 by <a href="https://wordpress.com/themes/" rel="designer">WordPress.com</a>.			</div><!-- .site-info -->
		</div><!-- .site-info-wrapper -->
	</footer><!-- #colophon -->
</div><!-- #page -->

        <script>
            function katexRender() {
                const eles = document.querySelectorAll(".katex-eq:not(.katex-rendered)");
                for(let idx=0; idx < eles.length; idx++) {
                    const ele = eles[idx];
                    ele.classList.add("katex-rendered");
                    try {
                        katex.render(
                            ele.textContent,
                            ele,
                            {
                                displayMode: ele.getAttribute("data-katex-display") === 'true',
                                throwOnError: false
                            }
                        );
                    } catch(n) {
                        ele.style.color="red";
                        ele.textContent = n.message;
                    }
                }
            }
            document.addEventListener("DOMContentLoaded", katexRender);
        </script>
        <script type='text/javascript' src='https://www.silcalcblog.com/wp-content/plugins/wp-smushit/app/assets/js/smush-lazy-load.min.js?ver=3.8.4' id='smush-lazy-load-js'></script>
<script type='text/javascript' src='https://www.silcalcblog.com/wp-content/themes/penscratch-2-wpcom/js/navigation.js?ver=20120206' id='penscratch-2-navigation-js'></script>
<script type='text/javascript' src='https://www.silcalcblog.com/wp-content/themes/penscratch-2-wpcom/js/penscratch-2.js?ver=20170608' id='penscratch-2-scripts-js'></script>
<script type='text/javascript' src='https://www.silcalcblog.com/wp-content/themes/penscratch-2-wpcom/js/skip-link-focus-fix.js?ver=20130115' id='penscratch-2-skip-link-focus-fix-js'></script>
<script type='text/javascript' src='https://www.silcalcblog.com/wp-content/plugins/katex/assets/katex-0.13.0/katex.min.js?ver=5.7.1' id='katex-js'></script>

</body>
</html>
